<section data-ng-controller="OverviewController" data-ng-init="refresh()">

	<div class="fm-page-actions pull-right">

		<input type="text" class="form-control date-selector" style="width: 100px;" data-ng-model="displayFrom" 
			   data-fm-datepicker data-fm-datepicker-format="yyyy-mm-dd" data-fm-datepicker-datechanged="changeFrom(date, 'YYYY-MM-DD')" />
		<input type="text" class="form-control date-selector" style="width: 100px;" data-ng-model="displayTo" 
			   data-fm-datepicker data-fm-datepicker-format="yyyy-mm-dd" data-fm-datepicker-datechanged="changeTo(date, 'YYYY-MM-DD')" />
		<button type="button" class="btn btn-default btn-xs" data-ng-click="applyDate()"><span class="glyphicon glyphicon-search"></span></button>

		<div class="btn-group">
			<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown">
				<span class="glyphicon glyphicon-cog"></span>
			</button>
			<ul class="dropdown-menu dropdown-menu-right" role="menu">
				<li><a href="/#!/time/overview/{{ thisWeek }}">This Week</a></li>
				<li><a href="/#!/time/overview/{{ lastWeek }}">Last Week</a></li>
				<li><a href="/#!/time/overview/{{ thisMonth }}">This Month</a></li>
				<li><a href="/#!/time/overview/{{ lastMonth }}">Last Month</a></li>
				<li><a href="/#!/time/overview/{{ thisYear }}">This Year</a></li>
				<li><a href="/#!/time/overview/{{ lastYear }}">Last Year</a></li>
				<li><hr /></li>
				<li><a href="#" class="export-link">Export</a></li>
			</ul>
		</div>
	</div>

	<div class="clearfix"></div>

	<h1 class="text-center">{{ title }}</h1>

	<div class="panel panel-default panel-margin" data-ng-hide="hasTimeRegistrations">
		<div class="panel-body text-center">
			No hours registered for this period
		</div>
	</div>

	<div class="fm-list timeregistration">
		<div class="panel panel-default" data-ng-repeat="timeRegistration in timeRegistrations">
			<!-- Default panel contents -->
			<div class="panel-heading">{{ timeRegistration.date | formatdate }}</div>

			<!-- List group -->
			<ul class="list-group">
				<li class="list-group-item" data-ng-repeat="item in timeRegistration.items">
					<div class="row">
						<div class="col-xs-8">
							<strong class="hideOverflow">{{ item.company.name }} - {{ item.project.name }}</strong>
							<span class="hideOverflow">{{ item.task }} - {{ item.description }}</span>
						</div>
						<div class="col-xs-2 pull-right">
							<div class="pull-right">
								<span class="hideOverflow">{{ item.from | formattime }} - {{ item.to | formattime }}</span>
							</div>
							<div class="clearfix"></div>
							<div class="pull-right">
								<strong>{{ item.totalMinutes | formattime }}</strong>
							</div>
						</div>
					</div>
				</li>
			</ul>
		</div>
	</div>	

</section>